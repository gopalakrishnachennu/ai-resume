(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function c(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(n){if(n.ep)return;n.ep=!0;const o=c(n);fetch(n.href,o)}})();const r="https://ai-resume-git-feature-9d1c2b-gopalakrishnachennu-5461s-projects.vercel.app",g=document.getElementById("not-connected"),p=document.getElementById("connected"),l=document.getElementById("connect-btn"),a=document.getElementById("fill-btn"),d=document.getElementById("refresh-btn"),u=document.getElementById("settings-btn"),m=document.getElementById("dashboard-btn"),C=document.getElementById("user-name"),x=document.getElementById("user-email"),L=document.getElementById("user-avatar"),b=document.getElementById("avatar-letter"),h=document.getElementById("stat-filled");document.getElementById("stat-accuracy");const E=document.getElementById("stat-apps");async function v(){await I(),F()}async function I(){try{const t=await chrome.storage.local.get(["auth","profile","stats"]);t.auth&&t.auth.uid?B(t.auth,t.stats):y()}catch(t){console.error("Check connection failed:",t),y()}}function B(t,e){g.style.display="none",p.style.display="flex";const c=t.displayName||"User",i=t.email||"";C.textContent=c,x.textContent=i,t.photoURL?L.innerHTML=`<img src="${t.photoURL}" alt="${c}">`:b.textContent=c[0].toUpperCase(),e&&(h.textContent=e.filledToday||0,E.textContent=e.totalApplications||12)}function y(){g.style.display="flex",p.style.display="none"}function F(){l==null||l.addEventListener("click",()=>{chrome.tabs.create({url:r+"/settings/extension"})}),a==null||a.addEventListener("click",T),d==null||d.addEventListener("click",()=>{chrome.tabs.create({url:r+"/settings/extension"})}),u==null||u.addEventListener("click",()=>{chrome.tabs.create({url:r+"/settings/extension"})}),m==null||m.addEventListener("click",()=>{chrome.tabs.create({url:r+"/dashboard"})})}async function T(){const t=a.querySelector(".btn-title"),e=a.querySelector(".btn-icon"),c=t.textContent,i=e.textContent;a.classList.add("loading"),t.textContent="Filling...",e.textContent="↻";try{const[o]=await chrome.tabs.query({active:!0,currentWindow:!0});if(!(o!=null&&o.id)){f("No active tab found"),n();return}chrome.tabs.sendMessage(o.id,{type:"FILL_FORM"},s=>{a.classList.remove("loading"),s!=null&&s.success?(a.classList.add("success"),t.textContent="Filled "+(s.filled||0)+" Fields",e.textContent="✓",w(s.filled||0),setTimeout(()=>{a.classList.remove("success"),t.textContent=c,e.textContent=i},3e3)):(t.textContent="Try Again",e.textContent="⚠",f((s==null?void 0:s.error)||"Navigate to a job application page first"),setTimeout(()=>{t.textContent=c,e.textContent=i},2e3))})}catch(o){console.error("Fill error:",o),n(),f("Unable to fill form")}function n(){a.classList.remove("loading"),t.textContent=c,e.textContent=i}}async function w(t){try{const c=(await chrome.storage.local.get(["stats"])).stats||{filledToday:0,totalApplications:0};c.filledToday=(c.filledToday||0)+t,await chrome.storage.local.set({stats:c}),h.textContent=c.filledToday}catch(e){console.error("Update stats failed:",e)}}function f(t){console.log("[JobFiller]",t)}document.addEventListener("DOMContentLoaded",v);
